<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · WunDeeDB.jl</title><meta name="title" content="Home · WunDeeDB.jl"/><meta property="og:title" content="Home · WunDeeDB.jl"/><meta property="twitter:title" content="Home · WunDeeDB.jl"/><meta name="description" content="Documentation for WunDeeDB.jl."/><meta property="og:description" content="Documentation for WunDeeDB.jl."/><meta property="twitter:description" content="Documentation for WunDeeDB.jl."/><meta property="og:url" content="https://mantzaris.github.io/WunDeeDB.jl/"/><meta property="twitter:url" content="https://mantzaris.github.io/WunDeeDB.jl/"/><link rel="canonical" href="https://mantzaris.github.io/WunDeeDB.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>WunDeeDB.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mantzaris/WunDeeDB.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mantzaris/WunDeeDB.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><ul><li><a href="#WunDeeDB">WunDeeDB</a></li><li class="no-marker"><ul><li><a href="#Introduction">Introduction</a></li></ul></li></ul><h1 id="WunDeeDB"><a class="docs-heading-anchor" href="#WunDeeDB">WunDeeDB</a><a id="WunDeeDB-1"></a><a class="docs-heading-anchor-permalink" href="#WunDeeDB" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/mantzaris/WunDeeDB.jl">WunDeeDB</a>.</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>This module supports bulk operations (insertions, deletions, and updates) with a hard limit of 1000 records per operation. In addition, the module supports the following numerical types for embedding data:</p><ul><li>Float16</li><li>Float32</li><li>Float64</li><li>BigFloat</li><li>Int8</li><li>UInt8</li><li>Int16</li><li>UInt16</li><li>Int32</li><li>UInt32</li><li>Int64</li><li>UInt64</li><li>Int128</li><li>UInt128</li></ul><p>These types are defined in the DATA<em>TYPE</em>MAP and are used to correctly parse and manage the embedding vectors stored in the SQLite database. The constant BULK_LIMIT is set to 1000 to prevent overly large transactions during bulk operations.</p><ul><li><a href="#WunDeeDB.close_db-Tuple{SQLite.DB}"><code>WunDeeDB.close_db</code></a></li><li><a href="#WunDeeDB.count_entries-Tuple{SQLite.DB}"><code>WunDeeDB.count_entries</code></a></li><li><a href="#WunDeeDB.delete_all_embeddings-Tuple{String}"><code>WunDeeDB.delete_all_embeddings</code></a></li><li><a href="#WunDeeDB.delete_db-Tuple{String}"><code>WunDeeDB.delete_db</code></a></li><li><a href="#WunDeeDB.delete_embeddings-Tuple{SQLite.DB, Any}"><code>WunDeeDB.delete_embeddings</code></a></li><li><a href="#WunDeeDB.get_adjacent_id-Tuple{SQLite.DB, Any}"><code>WunDeeDB.get_adjacent_id</code></a></li><li><a href="#WunDeeDB.get_embeddings-Tuple{SQLite.DB, Any}"><code>WunDeeDB.get_embeddings</code></a></li><li><a href="#WunDeeDB.get_meta_data-Tuple{SQLite.DB}"><code>WunDeeDB.get_meta_data</code></a></li><li><a href="#WunDeeDB.get_supported_data_types-Tuple{}"><code>WunDeeDB.get_supported_data_types</code></a></li><li><a href="#WunDeeDB.infer_data_type-Tuple{AbstractVector{&lt;:Number}}"><code>WunDeeDB.infer_data_type</code></a></li><li><a href="#WunDeeDB.initialize_db-Tuple{String, Int64, String}"><code>WunDeeDB.initialize_db</code></a></li><li><a href="#WunDeeDB.insert_embeddings-Tuple{SQLite.DB, Any, Any}"><code>WunDeeDB.insert_embeddings</code></a></li><li><a href="#WunDeeDB.open_db-Tuple{String}"><code>WunDeeDB.open_db</code></a></li><li><a href="#WunDeeDB.random_embeddings-Tuple{SQLite.DB, Int64}"><code>WunDeeDB.random_embeddings</code></a></li><li><a href="#WunDeeDB.update_embeddings-Tuple{SQLite.DB, Any, Any}"><code>WunDeeDB.update_embeddings</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.close_db-Tuple{SQLite.DB}" href="#WunDeeDB.close_db-Tuple{SQLite.DB}"><code>WunDeeDB.close_db</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>close_db(db::SQLite.DB)</p><p>Close an open SQLite database connection.</p><p>This function is a simple wrapper around SQLite.close to ensure that the provided database connection is properly closed when it is no longer needed.</p><p><strong>Arguments</strong></p><ul><li>db::SQLite.DB: The SQLite database connection to be closed.</li></ul><p><strong>Example</strong></p><p>```julia db = open_db(&quot;data/mydatabase.sqlite&quot;)</p><p><strong>Perform database operations...</strong></p><p>close_db(db)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L243-L259">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.count_entries-Tuple{SQLite.DB}" href="#WunDeeDB.count_entries-Tuple{SQLite.DB}"><code>WunDeeDB.count_entries</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Count the number of entries in the main table of the SQLite database.</p><p>This function is overloaded to support both an active database connection and a database file path:</p><ul><li><code>count_entries(db::SQLite.DB; update_meta::Bool=false)</code>: Counts entries using an active database connection.</li><li><code>count_entries(db_path::String; update_meta::Bool=false)</code>: Opens the database at the specified path, counts entries, optionally updates the meta table, and then closes the connection.</li></ul><p><strong>Arguments</strong></p><ul><li>For <code>count_entries(db::SQLite.DB; update_meta::Bool=false)</code>:<ul><li><code>db::SQLite.DB</code>: An active SQLite database connection.</li></ul></li><li>For <code>count_entries(db_path::String; update_meta::Bool=false)</code>:<ul><li><code>db_path::String</code>: The file path to the SQLite database.</li></ul></li><li><code>update_meta::Bool=false</code>: When set to <code>true</code>, updates the meta table with the current count. If the count is 0, it clears the meta information (i.e., sets <code>embedding_count</code> to 0 and resets <code>embedding_length</code> if applicable).</li></ul><p><strong>Returns</strong></p><ul><li>The number of entries (an integer) in the main table.</li><li>In the <code>db_path</code> overload, returns a <code>String</code> error message if an error occurs.</li></ul><p><strong>Example</strong></p><p>```julia</p><p><strong>Using an active database connection:</strong></p><p>entry<em>count = count</em>entries(db, update<em>meta=true) println(&quot;Number of entries: &quot;, entry</em>count)</p><p><strong>Using a database file path:</strong></p><p>entry<em>count = count</em>entries(&quot;my<em>database.db&quot;, update</em>meta=true) println(&quot;Number of entries: &quot;, entry_count)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L1051-L1079">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.delete_all_embeddings-Tuple{String}" href="#WunDeeDB.delete_all_embeddings-Tuple{String}"><code>WunDeeDB.delete_all_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Delete all embeddings from the database at the specified path and reset the embedding count.</p><p><strong>Arguments</strong></p><ul><li><code>db_path::String</code>: The file path of the SQLite database.</li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> if the operation is successful.</li><li>A <code>String</code> error message if an error occurs.</li></ul><p><strong>Example</strong></p><p>```julia result = delete<em>all</em>embeddings(&quot;my_database.db&quot;) if result === true     println(&quot;Embeddings deleted successfully.&quot;) else     println(&quot;Error: &#39;result&#39;&quot;) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L297-L316">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.delete_db-Tuple{String}" href="#WunDeeDB.delete_db-Tuple{String}"><code>WunDeeDB.delete_db</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Delete the database file at the specified path.</p><p><strong>Arguments</strong></p><ul><li><code>db_path::String</code>: The file path of the database to delete.</li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> if the file was successfully deleted.</li><li>A <code>String</code> error message if deletion fails or if the file does not exist.</li></ul><p><strong>Example</strong></p><p>```julia result = delete<em>db(&quot;my</em>database.db&quot;) if result === true     println(&quot;Database deleted successfully.&quot;) else     println(&quot;Error: &#39;result&#39;&quot;) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L264-L283">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.delete_embeddings-Tuple{SQLite.DB, Any}" href="#WunDeeDB.delete_embeddings-Tuple{SQLite.DB, Any}"><code>WunDeeDB.delete_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Delete one or more embeddings from the database using their ID(s).</p><p>This function is overloaded to support both an active database connection and a database file path:</p><ul><li><code>delete_embeddings(db::SQLite.DB, id_input)</code>: Deletes embeddings using an open database connection.</li><li><code>delete_embeddings(db_path::String, id_input)</code>: Opens the database at the specified path, deletes the embeddings, and then closes the connection.</li></ul><p><strong>Arguments</strong></p><ul><li>For <code>delete_embeddings(db::SQLite.DB, id_input)</code>:<ul><li><code>db::SQLite.DB</code>: An active SQLite database connection.</li><li><code>id_input</code>: A single ID or a collection of IDs (can be any type convertible to a string) identifying the embeddings to be deleted.</li></ul></li><li>For <code>delete_embeddings(db_path::String, id_input)</code>:<ul><li><code>db_path::String</code>: The file path to the SQLite database.</li><li><code>id_input</code>: A single ID or a collection of IDs identifying the embeddings to be deleted.</li></ul></li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> if the deletion is successful.</li><li>A <code>String</code> error message if an error occurs during deletion.</li></ul><p><strong>Examples</strong></p><p>Using an active database connection: ```julia result = delete_embeddings(db, [1, 2, 3]) if result === true     println(&quot;Embeddings deleted successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p><p>Using a database file path:</p><p>result = delete<em>embeddings(&quot;my</em>database.db&quot;, 1) if result === true     println(&quot;Embedding deleted successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L550-L589">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.get_adjacent_id-Tuple{SQLite.DB, Any}" href="#WunDeeDB.get_adjacent_id-Tuple{SQLite.DB, Any}"><code>WunDeeDB.get_adjacent_id</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Retrieve the adjacent record relative to a given <code>current_id</code> from the SQLite database.</p><p>This function is overloaded to support both an active database connection and a database file path:</p><ul><li><code>get_adjacent_id(db::SQLite.DB, current_id; direction=&quot;next&quot;, full_row=true)</code>: Uses an active connection.</li><li><code>get_adjacent_id(db_path::String, current_id; direction=&quot;next&quot;, full_row=true)</code>: Opens the database at the specified path, retrieves the adjacent record, and then closes the connection.</li></ul><p>The function returns the record immediately after (or before) the specified <code>current_id</code> based on the <code>direction</code> parameter. When <code>full_row</code> is <code>true</code>, the returned result is a named tuple containing the <code>id_text</code>, the decoded embedding vector, and the stored <code>data_type</code>. When <code>full_row</code> is <code>false</code>, only the <code>id_text</code> is returned.</p><p><strong>Arguments</strong></p><ul><li><p><strong>For <code>get_adjacent_id(db::SQLite.DB, current_id; direction, full_row)</code></strong>:</p><ul><li><code>db::SQLite.DB</code>: An active SQLite database connection.</li><li><code>current_id</code>: The current record&#39;s ID from which to find the adjacent record.</li><li><code>direction::String=&quot;next&quot;</code>: The direction to search for the adjacent record. Use <code>&quot;next&quot;</code> for the record with an ID greater than <code>current_id</code>, or <code>&quot;previous&quot;</code> (or <code>&quot;prev&quot;</code>) for the record with an ID less than <code>current_id</code>.</li><li><code>full_row::Bool=true</code>: If <code>true</code>, return the full record (including embedding and meta data); if <code>false</code>, return only the <code>id_text</code>.</li></ul></li><li><p><strong>For <code>get_adjacent_id(db_path::String, current_id; direction, full_row)</code></strong>:</p><ul><li><code>db_path::String</code>: The file path to the SQLite database.</li><li>Other parameters are as described above.</li></ul></li></ul><p><strong>Returns</strong></p><ul><li>When <code>full_row</code> is <code>true</code>: A named tuple <code>(id_text, embedding, data_type)</code> representing the adjacent record.</li><li>When <code>full_row</code> is <code>false</code>: The adjacent record&#39;s <code>id_text</code>.</li><li>Returns <code>nothing</code> if no adjacent record is found.</li><li>For the <code>db_path</code> overload, a <code>String</code> error message is returned if an error occurs.</li></ul><p><strong>Example</strong></p><p>```julia</p><p><strong>Using an active database connection:</strong></p><p>adjacent = get<em>adjacent</em>id(db, 100; direction=&quot;previous&quot;, full_row=false) if adjacent !== nothing     println(&quot;Adjacent ID: &quot;, adjacent) else     println(&quot;No adjacent record found.&quot;) end</p><p><strong>Using a database file path:</strong></p><p>result = get<em>adjacent</em>id(&quot;my_database.db&quot;, 100; direction=&quot;next&quot;) if result isa NamedTuple     println(&quot;Adjacent record: &quot;, result) else     println(&quot;Error or record not found: &quot;, result) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L939-L983">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.get_embeddings-Tuple{SQLite.DB, Any}" href="#WunDeeDB.get_embeddings-Tuple{SQLite.DB, Any}"><code>WunDeeDB.get_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Retrieve one or more embeddings from the SQLite database by their ID(s).</p><p>This function is overloaded to support:</p><ul><li><code>get_embeddings(db::SQLite.DB, id_input)</code>: Retrieves embeddings using an active database connection.</li><li><code>get_embeddings(db_path::String, id_input)</code>: Opens the database at the specified path, retrieves embeddings, and then closes the connection.</li></ul><p>When a single ID is provided, the corresponding embedding vector is returned (or <code>nothing</code> if not found). When multiple IDs are provided, a dictionary mapping each ID (as a string) to its embedding vector is returned.</p><p><strong>Arguments</strong></p><ul><li>For <code>get_embeddings(db::SQLite.DB, id_input)</code>:<ul><li><code>db::SQLite.DB</code>: An active SQLite database connection.</li><li><code>id_input</code>: A single ID or an array of IDs identifying the embeddings to retrieve.</li></ul></li><li>For <code>get_embeddings(db_path::String, id_input)</code>:<ul><li><code>db_path::String</code>: The file path to the SQLite database.</li><li><code>id_input</code>: A single ID or an array of IDs identifying the embeddings to retrieve.</li></ul></li></ul><p><strong>Returns</strong></p><ul><li>A single embedding vector if one ID is provided, or a dictionary mapping IDs (as strings) to embedding vectors if multiple IDs are provided.</li><li>Returns <code>nothing</code> if a single requested ID is not found.</li><li>A <code>String</code> error message if an error occurs during retrieval.</li></ul><p><strong>Examples</strong></p><p>Using an active database connection: ```julia embedding = get_embeddings(db, 42) if embedding === nothing     println(&quot;Embedding not found.&quot;) else     println(&quot;Embedding: &quot;, embedding) end</p><p>Using a database file path:</p><p>embeddings = get<em>embeddings(&quot;my</em>database.db&quot;, [1, 2, 3]) for (id, emb) in embeddings     println(&quot;ID: &#39;id&#39;, Embedding: &quot;, emb) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L777-L817">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.get_meta_data-Tuple{SQLite.DB}" href="#WunDeeDB.get_meta_data-Tuple{SQLite.DB}"><code>WunDeeDB.get_meta_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Retrieve meta data from the SQLite database.</p><p>This function is overloaded to accept either an active database connection or a file path:</p><ul><li><code>get_meta_data(db::SQLite.DB)</code>: Retrieves the meta data from the given open database connection.</li><li><code>get_meta_data(db_path::String)</code>: Opens the database at the specified path, retrieves the meta data, and then closes the connection.</li></ul><p><strong>Arguments</strong></p><ul><li>For <code>get_meta_data(db::SQLite.DB)</code>:<ul><li><code>db::SQLite.DB</code>: An active SQLite database connection.</li></ul></li><li>For <code>get_meta_data(db_path::String)</code>:<ul><li><code>db_path::String</code>: The file path to the SQLite database.</li></ul></li></ul><p><strong>Returns</strong></p><ul><li>The first row of meta data as a named tuple if it exists, or <code>nothing</code> if no meta data is found.</li><li>If an error occurs (in the <code>db_path</code> overload), a <code>String</code> error message is returned.</li></ul><p><strong>Examples</strong></p><p>Using an existing database connection: ```julia meta = get<em>meta</em>data(db) if meta !== nothing     println(&quot;Meta data: &quot;, meta) else     println(&quot;No meta data available.&quot;) end</p><p>Using a database file path:</p><p>result = get<em>meta</em>data(&quot;my_database.db&quot;) if result isa NamedTuple     println(&quot;Meta data: &quot;, result) else     println(&quot;Error: &quot;, result) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L332-L369">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.get_supported_data_types-Tuple{}" href="#WunDeeDB.get_supported_data_types-Tuple{}"><code>WunDeeDB.get_supported_data_types</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_supported_data_types() -&gt; Vector{String}</code></pre><p>Returns a sorted vector of supported data type names as strings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.infer_data_type-Tuple{AbstractVector{&lt;:Number}}" href="#WunDeeDB.infer_data_type-Tuple{AbstractVector{&lt;:Number}}"><code>WunDeeDB.infer_data_type</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Infer the data type of the elements in a numeric embedding vector.</p><p><strong>Arguments</strong></p><ul><li><code>embedding::AbstractVector{&lt;:Number}</code>: A vector containing numerical values.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>String</code> representing the element type of the embedding.</li></ul><p><strong>Example</strong></p><p>```julia vec = [1.0, 2.0, 3.0] println(infer<em>data</em>type(vec))  # &quot;Float64&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L394-L408">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.initialize_db-Tuple{String, Int64, String}" href="#WunDeeDB.initialize_db-Tuple{String, Int64, String}"><code>WunDeeDB.initialize_db</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Initialize a SQLite database by setting up the main and meta tables with appropriate configuration.</p><p><strong>Arguments</strong></p><ul><li><code>db_path::String</code>: Path to the SQLite database file.</li><li><code>embedding_length::Int</code>: Length of the embedding vector. Must be 1 or greater.</li><li><code>data_type::String</code>: Data type for the embeddings. Must be one of the supported types (use <code>get_supported_data_types()</code> to see valid options).</li><li><code>description::String=&quot;&quot;</code>: (optional) User selected description meta data, defaults to empty string</li><li><code>keep_conn_open::Bool=true</code>: (optional) Keep the DB connection open for rapid successive uses or false for multiple applications to release</li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> on successful initialization.</li><li>A <code>String</code> error message if any parameter is invalid or if an exception occurs during initialization.</li></ul><p><strong>Example</strong></p><p>```julia result = initialize<em>db(&quot;my</em>database.db&quot;, 128, &quot;float32&quot;, description=&quot;embeddings from 01/01/25&quot;, keep<em>conn</em>open=true) if result === true     println(&quot;Database initialized successfully!&quot;) else     println(&quot;Initialization failed: &#39;result&#39;&quot;) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L115-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.insert_embeddings-Tuple{SQLite.DB, Any, Any}" href="#WunDeeDB.insert_embeddings-Tuple{SQLite.DB, Any, Any}"><code>WunDeeDB.insert_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Insert one or more embeddings into a specified collection in the SQLite database.</p><p>This function is overloaded to support:</p><ul><li><strong>Active Connection</strong>: <code>insert_embeddings(db::SQLite.DB, id_input, embedding_input)</code></li><li><strong>Database Path</strong>: <code>insert_embeddings(db_path::String, id_input, embedding_input)</code></li></ul><p>In both cases, the function validates that the provided embeddings have a consistent length and that their data type matches the meta information stored in the database. For the method accepting a database path, the connection is automatically opened and closed.</p><p><strong>Arguments</strong></p><ul><li><code>db::SQLite.DB</code> or <code>db_path::String</code>: Either an active SQLite database connection or the file path to the database.</li><li><code>id_input</code>: A single ID or an array of IDs corresponding to the embeddings.</li><li><code>embedding_input</code>: A single numeric embedding vector or an array of embedding vectors. All embeddings must be of the same length.</li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> if the embeddings are successfully inserted.</li><li>A <code>String</code> error message if an error occurs.</li></ul><p><strong>Examples</strong></p><p>Using an active database connection: ```julia result = insert_embeddings(db, [1, 2], [[0.1, 0.2, 0.3], [0.4, 0.5, 0.6]]) if result === true     println(&quot;Embeddings inserted successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p><p>Using a database file path:</p><p>result = insert<em>embeddings(&quot;my</em>database.db&quot;, 1, [0.1, 0.2, 0.3]) if result === true     println(&quot;Embedding inserted successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L439-L477">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.open_db-Tuple{String}" href="#WunDeeDB.open_db-Tuple{String}"><code>WunDeeDB.open_db</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>open<em>db(db</em>path::String) -&gt; SQLite.DB</p><p>Open an SQLite database located at the specified file path, ensuring that the directory exists.</p><p>This function performs the following steps:</p><ol><li><p><strong>Directory Check and Creation:</strong>   It determines the directory path for <code>db_path</code> and checks whether it exists. If the directory does not exist, the function attempts to create it using <code>mkpath</code>.   If directory creation fails, an error is raised with a descriptive message.</p></li><li><p><strong>Database Connection and Configuration:</strong>   The function opens an SQLite database connection using <code>SQLite.DB(db_path)</code>.   It then sets two PRAGMA options for improved write performance:</p><ul><li><code>journal_mode</code> is set to <code>WAL</code> (Write-Ahead Logging).</li><li><code>synchronous</code> is set to <code>NORMAL</code>.</li></ul></li><li><p><strong>Return Value:</strong>   The configured SQLite database connection is returned.</p></li></ol><p><strong>Arguments</strong></p><ul><li><code>db_path::String</code>: The file path to the SQLite database. The function will ensure that the directory containing this file exists.</li></ul><p><strong>Returns</strong></p><ul><li>An instance of <code>SQLite.DB</code> representing the open and configured database connection.</li></ul><p><strong>Example</strong></p><p>```julia db = open_db(&quot;data/mydatabase.sqlite&quot;)</p><p><strong>Use the database connection...</strong></p><p>SQLite.execute(db, &quot;SELECT * FROM my_table;&quot;)</p><p><strong>Don&#39;t forget to close the database when done.</strong></p><p>close_db(db)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L191-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.random_embeddings-Tuple{SQLite.DB, Int64}" href="#WunDeeDB.random_embeddings-Tuple{SQLite.DB, Int64}"><code>WunDeeDB.random_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Randomly retrieve a specified number of embeddings from the SQLite database.</p><p>This function is overloaded to support two usage patterns:</p><ul><li><code>random_embeddings(db::SQLite.DB, num::Int)</code>: Retrieves embeddings using an active database connection.</li><li><code>random_embeddings(db_path::String, num::Int)</code>: Opens the database at the specified path, retrieves embeddings, and then closes the connection.</li></ul><p><strong>Arguments</strong></p><ul><li><code>db::SQLite.DB</code> or <code>db_path::String</code>: Either an active SQLite database connection or the file path to the SQLite database.</li><li><code>num::Int</code>: The number of random embeddings to retrieve.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>Dict{String, Any}</code> mapping each embedding&#39;s ID (as a string) to its embedding vector.</li></ul><p><strong>Example</strong></p><p>```julia embeddings = random<em>embeddings(&quot;my</em>database.db&quot;, 5) for (id, emb) in embeddings     println(&quot;ID: &#39;id&#39;, Embedding: &quot;, emb) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L874-L895">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WunDeeDB.update_embeddings-Tuple{SQLite.DB, Any, Any}" href="#WunDeeDB.update_embeddings-Tuple{SQLite.DB, Any, Any}"><code>WunDeeDB.update_embeddings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Update one or more embeddings in the SQLite database with new embedding data.</p><p>This function is overloaded to support two usage patterns:</p><ul><li><code>update_embeddings(db::SQLite.DB, id_input, new_embedding_input)</code>: Updates embeddings using an active database connection.</li><li><code>update_embeddings(db_path::String, id_input, new_embedding_input)</code>: Opens the database at the specified path, updates the embeddings, and then closes the connection.</li></ul><p>The function accepts a single identifier or an array of identifiers along with corresponding new embedding vectors. It validates that all new embeddings have the same length, and that their length and data type match the values stored in the meta table. For single record updates, it additionally confirms that the record exists in the database.</p><p><strong>Arguments</strong></p><ul><li><code>db::SQLite.DB</code> or <code>db_path::String</code>: Either an active database connection or the file path to the SQLite database.</li><li><code>id_input</code>: A single ID or an array of IDs identifying the embeddings to update.</li><li><code>new_embedding_input</code>: A single numeric embedding vector or an array of such vectors. All embeddings must be of consistent length.</li></ul><p><strong>Returns</strong></p><ul><li><code>true</code> if the update is successful.</li><li>A <code>String</code> error message if an error occurs.</li></ul><p><strong>Examples</strong></p><p>Using an active database connection: ```julia result = update_embeddings(db, 1, [0.5, 0.6, 0.7]) if result === true     println(&quot;Embedding updated successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p><p>Using a database file path:</p><p>result = update<em>embeddings(&quot;my</em>database.db&quot;, [1, 2], [[0.5, 0.6, 0.7], [0.8, 0.9, 1.0]]) if result === true     println(&quot;Embeddings updated successfully.&quot;) else     println(&quot;Error: &quot;, result) end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mantzaris/WunDeeDB.jl/blob/7e4d9a82edda87e9cf9d0deb318f04cb2309f8d7/src/WunDeeDB.jl#L627-L665">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 20 February 2025 03:01">Thursday 20 February 2025</span>. Using Julia version 1.10.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
